# Claude Memory Configuration - Anthropic Best Practices
# Project: CLAUDE_improvement
# User: Christian
# Version: 1.0
# Updated: 2025-06-17

memory_optimization:
  version: "1.0"
  updated: "2025-06-17"
  user: "Christian"
  project: "CLAUDE_improvement"
  
  # Claude Context Management Following Anthropic Best Practices
  context_preservation:
    structured_prompts:
      format: "xml"
      enable_bulletpoints: true
      descriptive_headings: true
      natural_conversation: true
      
    session_continuity:
      auto_update: true
      token_efficient: true
      key_points_only: true
      preserve_context: true
      
    memory_segments:
      - name: "project_context"
        priority: "high"
        retention: "session_persistent"
        content: "Current task objectives, user preferences, active patterns"
      - name: "frequent_commands"
        priority: "medium" 
        retention: "cross_session"
        content: "Test, build, lint commands with usage patterns"
      - name: "learned_patterns"
        priority: "low"
        retention: "archive_ready"
        content: "Applied patterns, successful approaches, error resolutions"

  # Frequently Used Commands for Claude Memory
  frequent_commands:
    test_operations:
      - command: "npm test"
        description: "Run unit tests for current project"
        frequency: "daily"
        context: "testing"
        success_pattern: "All tests passed"
        common_issues: ["Test timeouts", "Module resolution errors"]
        
      - command: "npm run test:watch"
        description: "Run tests in watch mode during development"
        frequency: "during_development"
        context: "testing"
        success_pattern: "Watching for file changes"
        common_issues: ["High CPU usage", "File system limits"]
        
      - command: "npm run test:coverage"
        description: "Generate comprehensive test coverage report"
        frequency: "weekly"
        context: "quality_assurance"
        success_pattern: "Coverage report generated"
        common_issues: ["Missing test files", "Coverage thresholds"]
        
    build_operations:
      - command: "npm run build"
        description: "Create production-ready build"
        frequency: "deployment"
        context: "build"
        success_pattern: "Build completed successfully"
        common_issues: ["Bundle size warnings", "TypeScript errors", "Missing dependencies"]
        
      - command: "npm run dev"
        description: "Start development server with hot reload"
        frequency: "daily"
        context: "development"
        success_pattern: "Development server running"
        common_issues: ["Port conflicts", "Module hot reload failures"]
        
      - command: "npm run build:analyze"
        description: "Build with detailed bundle analysis"
        frequency: "optimization"
        context: "performance"
        success_pattern: "Bundle analysis complete"
        common_issues: ["Large chunk warnings", "Circular dependencies"]
        
    lint_operations:
      - command: "npm run lint"
        description: "Run ESLint code quality checks"
        frequency: "pre_commit"
        context: "code_quality"
        success_pattern: "No linting errors found"
        common_issues: ["Style violations", "Unused imports", "TypeScript integration"]
        
      - command: "npm run lint:fix"
        description: "Automatically fix linting issues"
        frequency: "development"
        context: "code_quality"
        success_pattern: "Linting issues fixed"
        common_issues: ["Unfixable issues remain", "Conflicting rules"]
        
      - command: "npm run type-check"
        description: "Comprehensive TypeScript type checking"
        frequency: "pre_commit"
        context: "type_safety"
        success_pattern: "No type errors found"
        common_issues: ["Type mismatches", "Missing type definitions"]

  # XML Structured Prompts within YAML (Anthropic Best Practices)
  xml_prompt_templates:
    project_analysis: |
      <analysis>
        <project_context>
          <name>{{project_name}}</name>
          <user>Christian</user>
          <type>{{project_type}}</type>
          <tech_stack>
            {{#each technologies}}
            <technology>{{this}}</technology>
            {{/each}}
          </tech_stack>
        </project_context>
        
        <current_task>
          <objective>{{task_objective}}</objective>
          <priority>{{task_priority}}</priority>
          <requirements>
            {{#each requirements}}
            <requirement priority="{{priority}}">{{description}}</requirement>
            {{/each}}
          </requirements>
          <success_criteria>
            {{#each success_criteria}}
            <criterion>{{this}}</criterion>
            {{/each}}
          </success_criteria>
        </current_task>
        
        <memory_context>
          <recent_changes>{{recent_changes}}</recent_changes>
          <active_patterns>
            {{#each active_patterns}}
            <pattern name="{{name}}" status="{{status}}">{{description}}</pattern>
            {{/each}}
          </active_patterns>
          <learned_preferences>
            {{#each user_preferences}}
            <preference category="{{category}}">{{value}}</preference>
            {{/each}}
          </learned_preferences>
        </memory_context>
      </analysis>
      
    task_execution: |
      <execution>
        <methodology>
          <approach>{{execution_approach}}</approach>
          <reasoning>{{approach_reasoning}}</reasoning>
          <steps>
            {{#each steps}}
            <step number="{{@index}}" priority="{{priority}}">
              <action>{{action}}</action>
              <expected_outcome>{{outcome}}</expected_outcome>
              <validation>{{validation}}</validation>
            </step>
            {{/each}}
          </steps>
        </methodology>
        
        <quality_checks>
          <testing_required>{{testing_needed}}</testing_required>
          <test_strategy>{{test_approach}}</test_strategy>
          <performance_considerations>{{performance_notes}}</performance_considerations>
          <security_review>{{security_requirements}}</security_review>
        </quality_checks>
        
        <integration_points>
          <existing_systems>
            {{#each integration_targets}}
            <system name="{{name}}" type="{{type}}" impact="{{impact}}">{{description}}</system>
            {{/each}}
          </existing_systems>
          <compatibility_requirements>{{compatibility}}</compatibility_requirements>
          <rollback_strategy>{{rollback_plan}}</rollback_strategy>
        </integration_points>
      </execution>

    session_memory: |
      <session_memory>
        <identification>
          <user>Christian</user>
          <project>{{project_name}}</project>
          <session_start>{{session_start}}</session_start>
          <session_id>{{session_id}}</session_id>
        </identification>
        
        <active_context>
          <current_task>{{current_task}}</current_task>
          <task_phase>{{task_phase}}</task_phase>
          <priority_level>{{priority_level}}</priority_level>
          <completion_criteria>
            {{#each completion_criteria}}
            <criterion status="{{status}}">{{description}}</criterion>
            {{/each}}
          </completion_criteria>
        </active_context>
        
        <technical_context>
          <technologies>
            {{#each technologies}}
            <tech status="{{status}}" experience="{{experience}}">{{name}}</tech>
            {{/each}}
          </technologies>
          
          <recent_patterns_applied>
            {{#each patterns}}
            <pattern date="{{date}}" success="{{success}}">{{name}}</pattern>
            {{/each}}
          </recent_patterns_applied>
          
          <performance_metrics>
            {{#each metrics}}
            <metric name="{{name}}" value="{{value}}" trend="{{trend}}">{{description}}</metric>
            {{/each}}
          </performance_metrics>
        </technical_context>
        
        <memory_anchors>
          <frequently_used>
            <commands>
              {{#each commands}}
              <command type="{{type}}" frequency="{{frequency}}">{{command}}</command>
              {{/each}}
            </commands>
            <patterns>
              {{#each patterns}}
              <pattern category="{{category}}" usage="{{usage}}">{{name}}</pattern>
              {{/each}}
            </patterns>
          </frequently_used>
          
          <project_structure>
            <key_directories>
              {{#each directories}}
              <directory purpose="{{purpose}}" importance="{{importance}}">{{path}}</directory>
              {{/each}}
            </key_directories>
          </project_structure>
          
          <learned_context>
            {{#each learned_items}}
            <item type="{{type}}" confidence="{{confidence}}">{{description}}</item>
            {{/each}}
          </learned_context>
        </memory_anchors>
      </session_memory>

  # Memory Formatting Following Anthropic Best Practices
  memory_formatting:
    bullet_point_guidelines:
      - "Use hierarchical bullet points for complex information structure"
      - "Group related concepts under descriptive, meaningful headings"
      - "Maintain consistent indentation for visual clarity and readability"
      - "Include context markers for easy cross-references"
      - "Prioritize information with visual markers (🔴🟡🔵)"
      
    heading_conventions:
      level_1: "## Major Project Sections (High-Level Organization)"
      level_2: "### Functional Areas (Specific Domains)"
      level_3: "#### Implementation Details (Technical Specifics)"
      level_4: "##### Specific Components (Granular Elements)"
      
    memory_markers:
      priority_high: "🔴 Critical Information - Immediate Attention Required"
      priority_medium: "🟡 Important Context - Significant for Current Work"
      priority_low: "🔵 Reference Material - Background Information"
      completed: "✅ Completed Task - Successfully Implemented"
      in_progress: "⚠️ Active Work - Currently Being Developed"
      blocked: "🚫 Requires Attention - Dependency or Issue Present"
      pattern_applied: "🎯 Pattern Applied - Reusable Solution Used"
      optimization: "🚀 Optimization - Performance Improvement"
      integration: "🔗 Integration Point - System Connection"

# Integration Configuration
integration_settings:
  auto_apply_patterns: true
  token_budget_management: true
  context_compression: "intelligent"
  memory_persistence: "session_based"
  performance_monitoring: true
  
  anthropic_compliance:
    structured_communication: true
    context_preservation: true
    token_efficiency: true
    natural_conversation: true
    bullet_points_enabled: true
    descriptive_headings: true

# Project-Specific Memory Context for CLAUDE_improvement
project_memory_context:
  current_improvements:
    - name: "File Scanning Optimization"
      status: "completed"
      achievement: "97.6% token reduction"
      pattern_location: "patterns/refactoring/token_usage_optimization.md"
      
    - name: "Boot Sequence Optimization"
      status: "completed"
      achievement: "88% boot time reduction"
      pattern_location: "patterns/refactoring/boot_sequence_optimization.md"
      
    - name: "Dual Parallel Agent Configuration"
      status: "completed"
      achievement: "Context-aware agent scaling"
      pattern_location: "patterns/architecture/dual_parallel_agent_configuration.md"
      
    - name: "Memory Optimization Patterns"
      status: "in_progress"
      achievement: "YAML + XML structured prompts"
      pattern_location: "patterns/generation/memory_optimization_patterns.md"

  key_directories:
    patterns: "/Users/scarmatrix/Project/CLAUDE_improvement/patterns/"
    memory: "/Users/scarmatrix/Project/CLAUDE_improvement/memory/"
    scripts: "/Users/scarmatrix/Project/CLAUDE_improvement/scripts/"
    docs: "/Users/scarmatrix/Project/CLAUDE_improvement/docs/"
    
  frequent_workflows:
    pattern_application:
      steps: ["Check patterns/", "Apply >80% match", "Adapt 60-80% match", "Create <60% new"]
      time_savings: "10-15 minutes per implementation"
      
    testing_protocol:
      steps: ["7-step decision", "Complexity assessment", "TDD if needed", "Manual validation"]
      success_rate: "High reliability with systematic approach"
      
    memory_integration:
      steps: ["Load config", "Apply templates", "Update session", "Verify integration"]
      efficiency_gain: "5-10 minutes per session context establishment"